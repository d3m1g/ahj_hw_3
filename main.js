!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&(t=i.currentScript.src),!t)){var s=i.getElementsByTagName("script");if(s.length)for(var r=s.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=s[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}();var t=e.p+"2dbd01ce16c0fa83cb67e20c73dedb66.png";new class{constructor(e,t){if(this.element=document.querySelector(e),this.boardSize=2*t,null===this.element)throw new Error("Field not found");this.sucessConuter=0,this.failCounter=0,this.clicked=!1}init(){this.element.style=`max-width: ${100*Math.sqrt(this.boardSize)}px; min-height: ${100*Math.sqrt(this.boardSize)}px`,this.createCells(),this.insertImg(),this.showCountters(),this.click(),this.gamePlay()}createCells(){for(let e=1;e<=this.boardSize;e+=1){const e=document.createElement("div");e.classList.add("game-field-cell"),this.element.insertAdjacentElement("afterbegin",e)}}insertImg(){const e=Math.floor(Math.random()*(this.boardSize-1)),i=document.createElement("img");i.classList.add("game-field-cell-img"),i.src=t,i.alt="голова гоблина",[...document.querySelectorAll(".game-field-cell")][e].insertAdjacentElement("afterbegin",i)}removeImg(){this.img=document.querySelector(".game-field-cell-img"),this.img.remove()}gameOver(){this.showCountters(),this.failCounter=0,this.sucessConuter=0,alert("Game over!"),this.showCountters(),this.gamePlay()}click(){this.element.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("game-field-cell-img")&&(t.remove(),this.clicked=!0),t.classList.contains("game-field-cell"))return!1}))}gamePlay(){const e=setInterval((()=>{this.clicked?(this.sucessConuter+=1,this.insertImg(),this.clicked=!1):this.clicked||(this.removeImg(),this.failCounter+=1,this.insertImg()),this.showCountters(),5===this.failCounter&&(this.gameOver(),window.clearInterval(e))}),1e3)}showCountters(){const e=document.querySelector(".counter-fail"),t=document.querySelector(".counter-success");e.textContent=`Fails: ${this.failCounter}`,t.textContent=`Success: ${this.sucessConuter}`}}(".game-field",4).init()}();